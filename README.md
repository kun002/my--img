00:00:05:02 - 00:00:27:18
未知
好的欢迎回来。我们第一章第二小节的课程内容了，那本节课的课程主题是C++的代码基础。那我会通过几个简单的所谓的代码案例来带大家快速的入门。这个C的代码的编写啊。同时呢？顺便跟大家复习一遍，我们前面所学的各种基础原理来进一步加深。

00:00:27:29 - 00:00:51:15
未知
我们对渲染管线的理解。所以，本节课的内容呢？依然是比较偏基础的，那就让我们直接进行主题更好的。那现在进入我们的实战环节。首先我们先建立一个新的工程，这是一个全新的工程背景对吧。我先调节一下我个人的使用习惯上面的一些细节一些布局的操作。

00:00:52:11 - 00:01:51:04
未知
OK，现在我们先来新建一个最简单的一个所谓的对吧，这个案例是对的，这是原理里面最简单的一个的的，然后命名一下你觉得对吧。打开这个代码看一下，我们先来调整一下这个布局啊，讲课嘛，这里要做出一些调整够不够，用OK我们新建一个BOSS的心情的K，那么我们再建一个财智球五K的球，我们一下K，我们可以看到这是一个最简单的一个C的时代，一张纹理功能的对吧。

00:01:51:23 - 00:02:13:04
未知
然后呢？我们可以看一下右边，这个是一个完整的所有的文件啊，你看到的代码，那么在分析代码之前呢？我们首先来观察这个C的的一个结构怎么观察呢？我们要把这个C的结构先给分析清楚的把那首先我们可以看一下括号里面的东西，每个中化里面的东西都是一个独立的模块的吧。

00:02:13:15 - 00:02:37:01
未知
我们先把它折叠起来，我们把这个结构给弄清楚OK，现在就清晰了，很多的把我们在折叠一下这个Pass里面，那我们就可以看到这是一个完整的C的结构，它有先由这个Properties模块以及对应的C的模块组成，然后在C的模块里面还有一个叫Pass模块的办法展开。

00:02:37:01 - 00:02:45:21
未知
这个Pass模块之后呢？就能看到我们的这个C的代码了。所以说我们就是在Pass这个模块里面写我们的C的代码的吧。

00:02:48:00 - 00:03:06:20
未知
有了这个结构的概念之后呢？现在我们就从0到1的完全的给大家写一遍这个C的那首先，第一步把这个办法先删掉，我给大家一下。现在C的是在报错的情况下，再把有报错的提示OK那现在我们从0到1的重新写一遍的代码给他看了。

00:03:06:28 - 00:03:35:05
未知
首先，我们按照前面说的先把这个C的的框架给搭建起来的，把它的模块结构给补全对吧。PPT的是谁的对吧。OK那么这个里面有一个帕斯卡的这个Past里面呢？才是我们真正写这个代码的地方对吧。那现在我们就把这个框架给补全了，发现这个报错已经消失了，对吧。

00:03:35:18 - 00:03:56:14
未知
现在来看，第一个第一行代码这个C的后面跟了一个引号东西是什么？我们来简单的写一下看一下，我们可以发现查这个球，上面这个名字改变了哦。原来这个就是我们C的的一个名字，第一行就是我们C的的一个名字。那这里也有个名字是什么东西呢？

00:03:56:14 - 00:04:14:27
未知
这个是C的文件的名字，是这个文件的名字。那这里面的代码呢？这个才是真正的我们C的的一个秘密。我们写我们写脚本的时候都是我们这个名字的，把它记住，然后在这个这个命名呢？还可以采用一些目录式的结构怎么说呢？

00:04:14:27 - 00:04:45:10
未知
比如说我们可以写这个是一种目录式的结构，然后我们就可以看到这里有个对应的目录产生的，把这样就非常方便，我们进行管理。OK的上面，下面我们来关注一下这个Properties模块这个模块是什么东西呢？它是对应的，我们的材质参数面板的这样一个参数，我们来写一个，比如说我们需要一个小，我需要一个数值来控制的。

00:04:45:10 - 00:05:15:10
未知
我最常用的就是一个符号的类型啊，OK这样就生成了一个可以调节的一个数值对吧，因为数值那就不够了，就是浮点数的意思吧，然后解释一下吧。这里这个是变量的名字，你可以随便写，你可以随便写，比如说啊，V啊都可以那这里面隐含的东西呢？

00:05:15:10 - 00:05:48:24
未知
就是外面显示的一个文本，比如说浮点数浮点数的OK，可以看到这个参数呢？对应这个显示文本呢？就发生了改变，对把后面这个就是它一个特定的名词，就是表明我们的这个参数类型啊，是一个浮点类型的吧，OK然后后面这个等它之后呢？是一个默认值就是默认状态下它的一个数值的了OK那简单的那这个干什么。

00:05:49:05 - 00:06:21:16
未知
为什么前面有一个这是一个约定俗成的一种命名规则，你不按照正规去写可以打，那现在我就简单的。然后还有第二种非常常见的一个数据。假设现在我们需要一个大范围的这种浮点数值的办法，我们就可以问人类，我们可以看到生成了一个大范围，这样的一个可以拖拽的这样一个数值的位置，然后呢？

00:06:21:16 - 00:07:11:00
未知
我们继续看一下有没有在在C的人们经常会用到一些多维的这样的数据在这里有没有呢？同样也有的时候，为此这里可以生成一个四维的这样一个参数完成，这样的我们确定它的一个位置对吧。我们可以看到这里有一个四维的可以调整的这样一个OK啊，那么我们再看一下颜色的调整，对了分层颜色颜色位置问题，就可以随便想我们就可以看到这是默认状态下四个中灰度的一个颜色K的颜色属性OK就是很简单的了。

00:07:11:12 - 00:07:43:10
未知
最后一个就是我们的开始的就是我们需要一张贴图啊，那这个贴图呢？叫做二D类型啊，然后后面带的这个妹子呢？我们先来看一下，这里就生成了一个贴图的凹槽对吧给上面我们上贴图后面的样子，什么意思呢？它的状态下是个白色贴图，就是说我们不上贴图的时候，它是一个白色的东西，我们在随后还得填充，可以哎呀什么。

00:07:43:23 - 00:08:05:25
未知
这个等一下再演示一下啊，那一般我们常用的就是这五种数据类型了，就是这五种参数参数面板。然后呢？下面就进入到我们的这个谁的里面吧。我们先不管这个三岁的什么东西，先不管的话什么东西，我们只知道我们是在这个Pass里面写这个我们的C的代码就行了。

00:08:06:01 - 00:08:26:22
未知
先这样理解，因为这个教程其实我录了很多遍，我不知道该怎么向大家解析这个过程呢？怎么很快的给大家讲明白这个东西，所以我就在OK那写代码之前呢？写这个代码之前呢？我想带大家来回顾一下这个管线了。我们前面说到了这个我们的CPU到呢？

00:08:26:22 - 00:08:51:27
未知
就把这个模型的数据发送给CPU上管线之后呢？就开始了这四个步骤对吧。第一个步骤就是我们的顶点，C的这样拿到的这些模型的数据将它们的模型空间的坐标转换到对应的裁剪空间的把。然后呢？还会进行一些自定义的数据的一些处理，然后把这些数据一起输出给我们的图片装配以及矿山化阶段就是我们的硬件阶段对吧。

00:08:52:11 - 00:09:15:09
未知
这个硬件阶段呢？能帮我们真诚这些片源，然后插值把这些顶点阶段输出的一些数据啊，给唐山话给插值，然后重新生成啊，然后就传递到我们的片源的谁的啊。我们每个人都会调用一下这个片源谁的以后给自身这个片源给着色给他上色对吧计算对应的颜色之后呢？

00:09:15:09 - 00:09:54:10
未知
就输出啊，输出到对应的帧缓冲区的一个地方，那这个就是我们一个完整的具备，像管线那样一个完整的C的呢？通常由顶点、C的以及C的两个加起来共同组成队伍。那现在我们就写一遍这个C的话，我们可以理解成一个PaaS，就等于一个完整的具备三管线啊，可以这么理解C的里面可以写多可怕，你写十个POSE的话，你就表示你这个模型啊，会被重复渲染十次，而且每次调用的C的都不一样啊，那现在我们首先我们先来关注一个PaaS里面的内容，那首先先

00:09:55:03 - 00:10:16:08
未知
来写对cprogram，当然必须为我们要写一个这样的代码什么意思呢？有了这个代码之后呢？就表示我们中间所写的任何代码对吧中间所写的任何代码都是属于Unity的的一个代码范围之内不懂没关系，把他们的要求这样写就行了。那下面呢？

00:10:17:03 - 00:10:50:03
未知
我们分别定义这个顶点C的这个片源C的队伍，我们要定义他们的一个名字，大家可能这两句话什么意思呢？就是我们要指定一个顶点C的他的名字叫做Wat。当然，这个名字可以随便填呢？后面对吧，真的可以对吧。下面这个意思也是一样的，我们指定一个片源C的，然后他的名字叫做Reg对吧。

00:10:50:29 - 00:11:20:13
未知
OK了下面我们还要把一些文件给包含进来，这个什么意思呢？这个是Unity，把我们写好的一个头文件，它里面有非常丰富的一些函数一些内置变量可以调用了，有了这个库之后，我们就可以很方便的写代码对吧。然后在下一步，我们先来看一下这个距离上管线第一步，要做什么，从CPU一端拿到这个数据得拿到对应的模型数据对吧。

00:11:20:20 - 00:11:43:08
未知
那现在我们就来拿这个数据怎么拿呢？我们要定义一个结构图，我们需要什么数据，要要开口说了，把要问这个CPU单拿，比如说我们要拿什么数据呢？最重要的我们要拿这个模型的顶点，坐标的把那这一句什么意思呢？前面是声明了，一个叫Woods的这个变量对吧。

00:11:43:15 - 00:12:09:07
未知
后面这个冒号之后呢？是一个特定的这个意思，这个是一个特定的语词表示的是模型的一个顶点坐标，那前面这个名字可以随便写了得到的点都可以，但后面这个名字肯定它是规定好的啊，只有几个数字可以选啊。比如说我们还需要他的有意的，把他有意的话，就可以用这个零对吧。

00:12:09:12 - 00:12:46:03
未知
比如说我们需要用他的拔剑对吧，他可以这样写的吧。还可以还需要用到他的一个顶点，对吧高了，就可以这样写这些都是特定的语词，我们可以在官方网站上面找到对应的这个OK啊，这部分就是他的对应的一个意思，他只有这么几个顶点坐标，发现第一，他有一第二，他有第三套第四，他有一个模型，我们最多只能拥有四套，由于吧，还有下面这个，所以他的前锋线的网站，然后这个脸色OK。

00:12:47:16 - 00:13:18:00
未知
我们现在先拿这个模型坐标吧，其他先不用了那下面我们第二步是这个顶点C的的吧。我们先不管顶点C的，我们先来完成下面一个结构体的一个定义是他输出的时候啊，他也有一个数据进行输出的，所以我们同样的要对这个数据的一个结构体进行一个定义，我们先把输出的一个结构给定义好了，那前面是一个结构体的一个声明的后面，这个是它的结构体的一个名字，你这个名字也可以随便起的吧。

00:13:18:13 - 00:13:44:16
未知
一般我们输入的数据就叫IP就行了。然后现在下面这个我们在声明一个新的一个结构，这是一个C的输出的一个作用的对吧。那么交易09f就是wordpressceo发给我们对吧词的意思。OK那我们还记得吗？零点C的最重要的业务就是要输出。我们在裁剪空间下的一个顶点坐标对吧。

00:13:44:22 - 00:14:19:12
未知
OK，所以我们要输出的是一个顶点坐标啊？这里这里也是用到一个特定的意思，这里有SVC的吧，这个是一个特定的意思，这个是必须要写的，必须要这样写的没有什么，为什么就大家记住就可以了啊。那我们确定了我们的输出数据之后，下面就开始写我们的这个顶点，C的对吧，写在顶点C的位置在我自己的这个OK。

00:14:20:23 - 00:14:51:10
未知
这一句什么意思呢？就是说我们这个函数前面不是已经定义了嘛，叫Wait对吧，那现在我们就写成一模一样，然后它就能够找到我们这个函数对吧到我们这个函数，然后这个函数里面的东西就是我们的一个顶点着色器的部队呢？括号里面的，这是一个船舱的一个参数，就是说我们现在这个顶点所得要采用这个IP带的结构的这样一个这样一个数据，这个这个数据的名字呢？

00:14:51:10 - 00:15:22:21
未知
可以随便取得都可以的。现在就简单的里边，有有名以后，它的一个类型呢？就是我们定义的这个API对吧。然后呢？然后这个顶点，所有的还会输出一些数据，它的输出的数据的类型叫做前面。我们定义好的这个为主，F对吧。OK那首先我们先来初始化这个输出的一个数据，所以说吧，随便写的可以这里是说我可以让还记得我们的顶点，所有的它要做什么内容吗？

00:15:22:21 - 00:15:48:29
未知
我们先来回顾一下我们的顶点C的呢？它需要完成从模型空间到世界空间到相机空间到裁剪空间的这么一个过程呢？它最终的目的就是要完成从模型空间到裁剪空间，对往那完成这些变化呢？可以通过这三个矩阵的完成对吧。那现在我们就可以知道了，我们就需要把它把这个模型的顶点呢？

00:15:49:04 - 00:16:11:17
未知
这个BOSS的走向到裁剪空间，上面怎么找到呢？我们可以通过这些矩阵来走上对吧。那我们有没有办法获得这些矩阵呢？肯定是有的，我们可以看一下它内置的一些变量，我们可以看到这一部分就是它给我们提供的一些矩阵了对吧。那首先现在做第一步，首先我们来看一下。

00:16:12:20 - 00:16:41:02
未知
第一步呢？就是要将这个顶点，从模型空间走向了世界对吧。OK那首先我们就知道了。那么我们可以拿到对应的这个矩阵叫做Ops，我把这个矩阵作为拷贝过来的吧。然后呢？这个Multiple是矩阵乘法的一个意思，这里面是一个矩阵，后面是第二个参数是一个向量，或者说一个四维的一个坐标点对吧。

00:16:41:09 - 00:17:10:28
未知
这里就完成了一个矩阵，乘法的意思是吧。然后完成了这个矩阵，乘法之后就可以把这个对应的Waters的，从它的模型空间转换到对应的一个事件空间的，把这里postword，把OK这样就完成了，然后下一步呢？下一步要干嘛，要把它找回到相机空间的，把同样的宏把这个BOSS的位置放到看一下有没有对应的这个也有对吧。

00:17:11:19 - 00:17:54:28
未知
立体属性OK最后一步呢？就是我们的BOSS看一下对应的有这个投影矩阵的，把它给到偷心矩阵，就可以到裁剪空间上面了，那这个就完成了我们的这样一个转化了的。现在最后一步要怎么做呢？要访问这个O的一个数据的吧，因为它它里面装有这个数据，我们要把这个数据给填充的把所以说，我们要把这个它里面的上面的这个坐标点，赋予给这个O点打BOSS等，然后返回什么要立刻做出来就行了。

00:17:55:01 - 00:18:15:09
未知
OK这样就完成了我们的一个顶点，着色器对吧顶点着色器，那这个顶点着色器最后呢？就输出这个O的一个结构体的吧。这个O的几个体的类型呢？其实是这种btof对吧F里面装有一个叫Post的一个数据的部队，我们已经把前面已经把这个数据给填充了对吧。

00:18:15:21 - 00:18:47:00
未知
那上面呢？就经过了这个硬件阶段之后呢？就进入我们的这个C的对吧。那现在我们就感谢我们的片源谁的片源，谁的是我们片源最终输出的是一个颜色的，把然后这个颜色只是一个四维的数据，那没错，这个就是怎么定义的这个名字了吧。

00:18:47:18 - 00:19:33:19
未知
OK以后呢？我们这个片源C的就是输出的是语言设置，所以我们这里写的是对吧，然后输入的是一个前面定义的一F的这样一个结构体的一个所有的结构，然后冒号之后的用什么呢？这个就是我们的一个渲染的目标，而OK那我们想要输出一个颜色值，比如说我们输出一个0.51.00.5这样一个数值吧，我可以看一下这个C的到底有没有成功啊的，现在我们已经成功了，对吧，我们可以看到这输出在一个绿色的一个数值对吧就证明了我们的C的意境。

00:19:34:11 - 00:19:58:25
未知
这里提示Unity提示啊，它帮我们要更新一些代码，我们点一下四看一下有所变化一下，我们可以看一下对于这个矩阵的名字变的，它会帮我们更新一些写法OK的以上呢？就是我们一个完整所得的一个一个写法的把。那现在我们来再来调整一下，比如说我想这一调整，它的颜色对吧。

00:19:59:09 - 00:20:27:23
未知
前面已经写了这个看了对吧，上面就开了是一个它是参数面板的一个属性的名字对吧，上面应该也要有对应的，这个要跟它一模一样的这个命名才行呢？在这个Phase里面声明同样名字的这样一个变量，才能够跟上面的这个Points模块产生一个动态的链接，它能够把这些参数的信息通过这个接口传递进我们的这个啊，这个里面对吧。

00:20:28:07 - 00:20:52:17
未知
然后现在呢？我们就可以趁这个颜色看一下，然后就可以动态调整了对吧。OK非常简单。那现在呢？我们再进一步的扩充一下，比如说我们我们拿到这个模型的数据模型的有意的吧，我们希望实现一个贴图的这样一个效果啊。然后呢？我们现在就从模型这里拿到这个有意思的吧。

00:20:52:22 - 00:21:24:14
未知
拿到这个游戏之后呢？我们需要输出这个User，所以我们要定义一个结构体。有由于Desktop是一个吧。哦，那值得注意以上的就是我这里的这个Desktop跟上面的这个Desktop里面，并不是同一个意思啊。那这里的一个desktop0，其实是一个除尘器振荡器，或者说插值器吧。什么意思呢？

00:21:25:01 - 00:21:57:10
未知
前面这个desktop0呢？是指它的第一套Ruby啊，你最多可以写多少套，因为呢？可以写写四套，因为是吧，你可以写你最多可以写四套有，但是这里的这个并不是UCS啊，这是一个通用的储存器啊，你可以存放任何数据啊，这个值你可以从零写到写到十五，总共有十六个可用呢？

00:21:57:27 - 00:22:23:16
未知
如果可以用什么意思呢？相当于它就是调查，你可以这么理解，它有十六个可以放任何类型的数据，你就可以这么理解行了。OK然后呢？我们现在要实现一个什么啊，贴图的这样一个效果对吧。先把所有LOGO给关掉啊，先把这些无用的数据关掉，就可以再看就是注释的对吧。

00:22:23:25 - 00:23:07:01
未知
OK就可以，然后我们在片源的里面呢？写一个给个贴图采样的一个句子啊。前面我们还没有定义这个贴图啊，我们来重新定义吧。Market对吧叫marketdisplay，然后呢？对应呢？我们也要在这个CD里面写一个一模一样的这样一个参数才能够接收来自这个材质参数面板的一些数据对吧。

00:23:07:27 - 00:23:38:28
未知
OK那就一模一样了对吧。那这个贴图的类型叫做三D技术，然后就可以把它放到二D的函数里面。然后第二个参数呢？就放置我们的这个UV的吧，然后来看一下，然后我们来输出一下这个的现在就实现了，这个也图了对吧，你采样的这么一个过程，现在我们先来调整一下，这个它发现没有用了，我也这是为什么呢？

00:23:40:00 - 00:24:23:04
未知
为什么呢？呃这里这个才是参数面板呢？它为我们提供这个贴图，而且同时呢？我们提供了这样四个数值对吧。其实，这里有个默认的一个规则，就是我们需要这样命名的角色命名，就是说这四个数值在哪里关联的呢？是在我们可以通过写下一个变量来进行关联来就是对应的这个纹理命名后面加入STI以后，它是一个四维的一个浮点类型的话，就可以跟这个四个参数产生一个动态链接的吧。

00:24:23:23 - 00:24:47:28
未知
然后呢？我们就可以参与到这个游戏的计算当中，比如说我们的分量呢？可以对这个UV进行一个缩放对吧。然后呢？它的一个再搭配分量呢？对这个UV进行一个偏移，那么你看一下，然后就可以调整它的一个数值了，对不对。OK就是这么简单，你前面说过了这个后面这个默认值什么东西呢？

00:24:47:28 - 00:25:25:07
未知
比如说我们在不给它上贴图它，它就是一个黑色的贴图对吧。就说我们现在它默认贴图是应该是白色的吧，红色啊，或者说是一个发现默认的贴图OK都可以对吧。一般的白色，那这就是我们一个完整的这个案例啊。然后还有一点想说的就是我们现在写了三个变化吧，对吧，那有没有一个方法能够一步的将这个模型空间转换到裁剪空间呢？

00:25:25:10 - 00:26:09:05
未知
肯定是有的对吧。在现在因为这三个矩阵呢？本来就可以合成一个的，这个叫MVP真的吧，MVP矩阵然后呢？可以OK的对吧。OK然后把这张去做视角，看一下，这个就是假对吧，结果就是一样的，那么报错对吧。我们切回来之后呢？发现它又提示了一个改变的一个代码，我们看一下有什么改变了，它自动帮我们做了什么事情，它发现把我们之前把那句离开了对吧。

00:26:09:05 - 00:26:27:29
未知
我们看到上面，它有一个注释的他，就说他已经帮我们把这一句给替换成这个函数了，而呢？那之后呢？我们一般就用这个函数来实现这个从模拟空间转换到插件文件，上面就可以了。这是Unity为我们提供的一个函数的，把OK。然后呢？

00:26:27:29 - 00:27:07:19
未知
我刚刚给大家把这个所得的一些注释给给补上。然后每一个属性栏，上面都有一些完整的这个参考链接，大家到时候课下自己写代码都可以参考一下都写满了。写的很密密麻麻的我看上去呢？然后还有一点要说的就是我们可以看到这个FACES的，有时候会上会看到这种Fix的是这样一个类型的，我还看到这种花式类型啊，那跟这个福字有什么不一样的，他们其实差别不大，这是一个精度上面的差别对吧。

00:27:07:19 - 00:27:36:19
未知
这个Front的它的精度是三十二位的吧。那Half的精度是十六位啊。这个Fix的精度是八位的吧，那一般呢？这种精度用来给颜色的给颜色使用的那这种精度呢？可以给UV啊，大部分那部分向量啊，使用那这个精度的是给坐标点使用的啊，那大家就记住这三个类型的一个用法就行了啊。

00:27:37:16 - 00:28:16:09
未知
那一般呢？现在我直接是从Up起步的，就是说一般坐标点我会直接使用FoV的精度，那其余的东西我直接是使用这个起步的啊，那现在PC已经很少写了OK，那大家记住就OK了。那接下来我带来的再看一些内容呢？首先我一个片，然后行复制一个C的我，我想给大家展示一些问题，大家先看一看要新建一个C的，然后再一个才是求P。

00:28:16:09 - 00:28:41:23
未知
OK我把这个球命名为Test的OK看上一个纹理。OK接下来我们可以看到它的背面是没有显示的对吧，这是因为我们的这个背面踢球引起的对吧。那当然还记得背面剔除是在这个硬件操作阶段的是在这个idcc空间之后进行的对吧。

00:28:42:24 - 00:29:08:20
未知
那怎么在C的里面处理这个背面踢球呢？我想把它这个背面踢球关掉怎么办呢？让它实现一个双面显示，我们可以在这个Pass里面在这个C去跑的上面呢？就是在这个代码的外部写一个指令库，这样就可以把我们的这个背面剔除给我写错了。

00:29:08:23 - 00:29:53:05
未知
这个代码不在这里来做威尼斯的这个Cast。OK那我们在这个顺着代码的外部写这个Kurt看一下有没有作用，然后就实现了这个双面显示的把它默认状态下，这个是这个窟窿，假设你想把正面踢球掉呢？你可以写上，可说在你可以把那有没有这样一个在材质球上面的一个设置呢？

00:29:53:05 - 00:30:31:13
未知
让我们去动态的去改它的哦，那肯定是有的，这个是内置的一个属性。然后呢？这个就是可以让我们随便设置的你有了这个有了这个中空号里面东西之后呢？你就可以在里面看到了我们直接Kobe过来看一下可以这样写来具体的就可以在这个材质面板设定，它的一个背面踢球的效果对吧。

00:30:31:15 - 00:30:54:29
未知
OK那这个模式是二，就是等于这个半对吧。2012我想说明什么东西呢？我想说明的是，我们现在在一个很平的一个平面上面去映射，这些贴图很简单的对吧。那假设我们有一个不规则的一个物体呢？就是说我们现在是根据UBI来进行这个贴图的，这个映射对吧。

00:30:55:18 - 00:31:17:14
未知
假设我的我的这个UBI可能就分布得不好，或者怎么说呢？我们来看一下，那现在我们可以看到我们的这个数字就被打乱了，对吧，那假设我现在我想希望它它能够在这个这个平面上面去能够很平整的，把这些数据给运过去怎么办呢？

00:31:18:18 - 00:31:40:08
未知
我们可以想一下，其实我们纹理采样，只是传进来，一个二维的坐标对吧。那我们可以自己去设定一些数值来，作为我们的这个纹理采样的一个数据对吧，我可以尝试一下用这个平面的这个X把平面的这个坐标值，就当前我们平面的个坐标值来去采样这张贴图试一下。

00:31:40:17 - 00:32:44:10
未知
那具体怎么做呢？我们可以试一下索尼之前做的探索行为对吧。OK我们可以用这个模型空间上的一个顶点，对吧，它的的一个位置，然后乘以2ok的对吧，然后来试一下，我们就可以看到它能够很平整的对应过去的把OK，然后我在我们发现这个平面这个这个平面，它就产生了很大的一个扭曲的吧，因为我们只是用这个平面的这样一个数据去缠绕，它，那这平面怎么办呢？

00:32:44:11 - 00:33:10:17
未知
我们可以尝试一下改一下，是不是因为这个引起的，所以平面啊，我们就看到这部分就好了，对吧，那对应的这部分肯定就坏了，对吧。那如果是俯视的怎么办呢？俯视是哪个平面呢？是在里面对吧在灾区的人在英国，我想给大家展示的是我们的纹理映射的这个来源呢？

00:33:10:17 - 00:33:39:09
未知
不一定是这个Unit，坐标可以是任意的我们设定的一些值。那么现在呢？我们就直接用这个坐标点的一个位置，对它进行一个采样，对把那如果我们想希望三个平面都能够很完美的覆盖的话呢？实际上用到了一种技术叫做二三平面映射的这种方法，那这种方法后面我再讲这里先不讲，我们还可以用这个世界空间上面的一个坐标对吧。

00:33:39:25 - 00:34:06:01
未知
其实是一样的是一样的，如果是它的一个缩放是不一样的对吧。OK那我们再看另外一个问题映射的问题，我们先把它改成UBI吧，你看另外一个问题，就是这是我们的一个原画了。我们我在三D里面建了一个圆环的一个模型，然后呢？

00:34:06:03 - 00:35:10:10
未知
我们可以看到大一点，我们可以看到有些数字产生了扭曲的吧，那大家有没有发现这个呢？一个意思状的东西对吧，这是什么引起的呢？原来我们就探讨一个问题，也不是什么问题，就是讲给大家知道这个事情了，那我们出现了这种渲染上面的问题啊，首先要去测试它的一个起源是什么，我们现在就怀疑这个是因为它的UBI坐标引起的，所以我们就先把这个UV打印出来看一下打印出来，看一下看一下，它有什么问题，然后我们可以观察到这个UV像我先把它归为一，因为

00:35:10:10 - 00:35:42:06
未知
我前面已经把这个有也做了一个缩放对吧。那么很过瘾，然后呢？我们可以看到有些锯齿状的东西对吧，这里就很明显的看到，然后然后大家看录影的时候会不会发现我这里很清晰的这里有一条一条的一个条，那这种UV的不连续就是会导致刚刚我们贴图采样时候的引擎的那种纹理图象的一种失真的那这种UV的不连续是怎么产生的呢？

00:35:42:22 - 00:36:48:02
未知
这个是由于光深化的一个过程产生的，因为我们光消耗了是根据这种三角面的异形，每个三角按照每个三角面进行一个插值的这种排列之后呢，就会造成一定一定程度的问题。那我先给大家看一下，我这个圆盘是怎么做的，是怎么做的弄了一个对吧，然后它的高度是一400具体就是这样一个，那么我们细分一下这个再把上面的Mask去掉对吧，我相信做特效的同学都知道这个很简单的对吧，我们可以看一下它的UV的分布。

00:36:48:02 - 00:37:13:26
未知
我们首先把最外面的就是平整的列。在这里，那这里面的一层呢？就是就是我们把这个UV给平摊开了对吧就很很整齐的平摊出来了，然后我就按照这个思路把它重新缩放到0到1之间对吧啊，那这个我就不会那么挑了。

00:37:14:03 - 00:37:42:27
未知
我最终把这个模型给输出，然后呢？我们就再回到这个主题吧，那么看呃，那我们现在已经找到了他的配音，就是因为这个光三块插值要产生，这种非常不连续的这种细节的解决办法应该怎么做呢？具体的解决办法其实非常简单就是简单粗暴的加面对吧，我们家就可以抵消这种情况出现啊。

00:37:43:18 - 00:38:17:29
未知
来看一下对比一下这两个不同元素的这个，而产生的这种失真啊，用的是同一个C的同一个材质对吧，那可以看到这个直线区域都被扭曲了，对吧。那这个呢？因为它的面积足够的高，它能够抵消这种情况对吧，但是我们可以仔细观察的话还是会有的，比如说这一些部分还是会有只是没那么明显而已呢？

00:38:18:00 - 00:38:40:26
未知
第一种方法就是很简单的用下面的方式粗暴的解决了对吧。第二种方法呢？你可以手动的在这个骗人的里面把这个UV重新算出来，那这个其实我自己试了一下，也是可行，还会引发其他的一些问题，所以我就不给我在这里给大家展示了OK呢？

00:38:41:16 - 00:39:09:02
未知
关于纹理映射的这些问题就先说到这里OK接下来我就带大家来了解一下，这个阿尔法是整个过程，为什么突然说到阿尔法Test，因为我想带大家做一个效果，我们先来看一下之前在这个输出合并阶段呢？我们会经历这么多的一个处理步骤的变化，其中有一个叫阿法测试，Test就是它的一个阿尔法知道，如果不满足某些条件的话，就会被扔掉对吧这个边缘的吧。

00:39:09:13 - 00:40:01:17
未知
那现在呢？我带大家来实现一个类似的这种效果啊来看一下首先先把这个复制一下，然后03ok复制一个先把这个里面的给删除掉，然后给它来一张这种模拟贴图。OK其实现在我们在CD里面，其实很少会直接用阿尔法Test的这个指令，我们一般会用一个更好，用的更可控的一个指令叫这个这个叫这个叫裁剪对吧，就是如果这个函数的括号里面的东西是小于零的话就会被丢弃。

00:40:01:23 - 00:40:47:04
未知
正比如说我现在填一个-0.1，我整个模型就没了对吧变成零的话，大概就是这个意思。那我们现在这个我看到这个这是一张灰度图的，把文字读取它的通道先读，其他的通道来看一下，这个叫来建立渐变的意思OK，那渐变的意思呢？能减去0.1看一下这个我们可以看到有部分外围的部分的数据被裁剪掉了，对吧就是小于0.1的部分被裁剪掉了对吧。

00:40:49:00 - 00:41:27:08
未知
那现在我希望有一个可以动态地控制，它们对吧。我现在设一个参数，然后一步0.11.1慢慢执行对吧。整个OK接下来我们就可以随意的对它进行了剔除对吧。根据这个灰度进行一个剔除操作。对吧就这么简单啊。然后呢？这个算法什么意思呢？

00:41:27:08 - 00:42:03:12
未知
这个算法相当于等于把这个四条这个是这个意思，这种就是一种简单的写法，大家可以记忆再选择麻烦对吧。接下来我要干吗呢？接下来我要接下来我想让这个央行给动起来对吧，那我需要对这个业务做一些动画的处理，比如说它让它加上一个只看一下啊，OK的，然后就可以看到，这是圆环在收缩了吧。

00:42:03:12 - 00:43:02:00
未知
OK那现在我希望能够控制它的速度，所以我们在杂乱参数的我们用一个四维的向量来控制一下来完成okb，然后再恳求F，就可以直接的快速查找对吧有就成立这个cbsiok这里有报错看一下是什么东西，这里我是没错了，OK的，我希望它实现一个从外扩散的一个效果的复一，然后呢？

00:43:02:00 - 00:44:07:21
未知
以后我们做什么再来加一个，再让贴图看一下，我们再来再将贴图试一下做出一点更多样化的效果。看一看二D的网站贴图，它默认状态下是白色OK，然后呢？对应的声明一下三配合几秒后都是NO.一啊，这个我们的四是它的位置的，就必须要新增这个字，后面加个stok那上面我们就按一下这一张贴图对吧，它是用同样的UV这个我们可以重新算一下，这个也可以我们现在直接用的是一个主贴图的，这个用一版有关系，加上这个什么意思呢？

00:44:07:21 - 00:44:57:00
未知
他们完就是一个，你可以也可以啊，它是一个不同速率的一个时间。一般我们用的是点位啊，然后看一下把这个屏蔽掉看起来QQ的C的吧，我们看一下怎么样子，来的那些图对吧就是一张Notes，然后呢？我们用的是USB有色温向量的，这两个分量去控制它的OK来OK那其实开启这个看一下然后呢？

00:44:57:02 - 00:45:39:08
未知
我们再把这个BOSS给解一下看看给解一下看看一看产生怎么样的效果呢？对吧，现在就能实现这种类似于水波扩散，或者说冲击波类型的这种这种东西，那就感觉挺好的。OK我们可以再给一个颜色给它对吧。Mike了可不卖了，然后呢？

00:45:39:08 - 00:46:10:21
未知
所谓的向量那种就是输出这个颜色OK，那这个就是我试试。这个我想说这个Atlas的过程就是这样，不要说我这些东西，它能够做一些溶解裁剪，这就是这个东西能做一些溶解之类的有效的吧。大家具体的效果，大家可以再去发扬一下，再去补充一下对吧。

00:46:11:24 - 00:46:48:21
未知
这个内容知识点呢？就先说到这里的吧，可以在OK。OK那说完这个阿尔法测试，那接下来就免不了的要给大家说一下这个半透明混合了对吧，那混合呢？就是在我们的这个输出合并阶段呢？最后一个一个一个操作级的对吧，现在就是给大家说一下半透明的以及其中的一些问题所在，那我们还是在这个圆盘的基础上面进行操作吧，再来复制这个最简单的所谓的变成文本是吧。

00:46:48:23 - 00:47:54:05
未知
OK，然后再新建一个彩球放上去，然后给上对应的贴图OK要实现半透明，应该怎么做呢？我们可以在同样是在这个戏剧Program外面呢？在这个层面可以加这样一句命令的，然后你再加上一句对白看一下什么变化，没什么变化，又没有什么变化，因为我这里没有他的阿伯纸，没有做，有改变，我先给一个参数看了OK，然后再乘以这个颜色对吧。

00:47:54:28 - 00:48:26:06
未知
我现在看一下，它就发生了一些改变的吧，然后复制多一点看一下啊？现在我们留意到一个问题就是我们两个层次叠在一起的话会发生一些奇怪的问题，这个就是它目前这个就是我们前面说的，我们要用这个半透明混合呢？要注意一个排序问题，然后第二个呢？

00:48:26:06 - 00:48:56:01
未知
要注意把这个灾难深度测试给深度写，又给关掉对吧。现在把这个深度写的看一下，那这个情况是有所缓和的吧，没有之前那么严重，但是它还是会有的，因为它这个半透明排列的不是很清楚，而且我们还遗漏了一个非常重要的问题。这个队列，它现在目前还是处在这个2000的循环队列，它是一个不透明的队列里面的所以呢？

00:48:56:02 - 00:49:37:26
未知
我们要用这个半透明效果，必须要记得要有这样一个设置，我们需要把它的队列改成这个样子诞生，一个这个就是设置我们默认的一个队列的吧。这个然后我们所有的就跟着变成了3000对吧。那其实这个问题还是没有得到解决的，因为在这里这个排序有点错乱了，那这个也是没有办法的问题，然后我们来看一个问题就是现在我们希望黑色的部分给透掉的吧。

00:49:39:05 - 00:50:14:27
未知
现在的贴图它是没有办法通到的啊，所以我只能够用它的灰度值来做一个穿透效果，看一下，它把以后等于它的一个通道对吧。然后呢？我们再专门再成立，它的一个方法是吧，然后它的看了，只能等于三。我们我建议大家最后写的时候要分开。

00:50:14:27 - 00:50:59:27
未知
哈是跟看了比较分开，最后我们可以再组合一下对吧，这样写的就靠谱一点的OK就是先把这个扣掉了对吧，然后我们再给一个强度是吧，比如说我们要让整体提亮一点点对吧，然后1.0那这里的那我把这个倍增系数要给到这个阿尔法通道之后呢？

00:50:59:27 - 00:51:22:27
未知
我们要注意一个问题，就是我们的阿法则，要确保它是在0到1的范围内，要不然很容易出现一些问题的。我们帮我们开启HDR使用一些效果的时候就会有问题，所以我们必须先用这个函数把它限制到0到1内，那这个这个函数，大家记住就是限制在限制这个结果0到1的范围内对吧。

00:51:22:28 - 00:52:16:27
未知
OK有再看一下的变量一点对吧OK没有问题，那接下来我们可以再尝试一些别的操作，看一下有没有一些别的混合模式。这里给大家推荐一个常用的这个的组合的叠加模式，这个就在原来的基础上面进行一个叠加对吧，同时也可以调整它的一个透明度，这个效果大家可以试一下哈一般我们用的就是这两个你常用的就是这两个穿透问题，那半套刚刚说了第一个要注意这个Task的队列的问题，第二个要注意把这个再拉开关掉，但是有些情况下呢，还需要我们去开启的那接下来我们就

00:52:16:27 - 00:52:49:29
未知
看一个OK，那我下面就给大家讲一下这个变了两个的效果，做啊，我直接在这个刚刚那个左边的一个基础，上面说吧，看一下OK我们就复制这里的C的展开，说明就是把它从里面一下建一个对应的，确保那其实大家都知道了。

00:52:49:29 - 00:53:36:17
未知
这个其实这个变化就是N多逃避的，把就是它的一个Normal值，跟它的一个观察的一个方向的一个断层，结果那首先我们OK那首先我们要得到它的一个某某子的首先要在这里声明，然后呢？我们在这里还要输出它的，因为我们知道牢牢控制输出，它视觉空间上面的一个，那么，然后那这些分布的操作，我就一步给它划掉了，因为不可以通过一个子的直接，把它从看到的这个文件上面对吧。

00:53:37:14 - 00:54:06:16
未知
好的现在下一步，我们要计算它的一个某某值对吧。那说某某的时候就是按照前面的这个写法，我们应该是用这个世界中间的这个矩阵，它再变成这个某某的一个结果对吧。那可是大家可以先记下这个Normal不是这样算呢？它是要反过来的这个点击那个点的顺序。

00:54:06:16 - 00:54:31:10
未知
首先反过来啊要放在第一位，然后呢？我们用的是它的一个。我说这样一个矩阵的这样做的啊，那具体为什么要这样做呢？是背后的一些公式推导成这样子的，那短期内我也没有办法向大家解析，大家可以先记着是这样转的就是呢？

00:54:31:10 - 00:55:00:11
未知
就转到某时间占总的二转其他的话可以按照之前的那个顺序做了之前的那种方法做，那现在OK然后因为它这个Normal是一个三维的向量的，要把这个我们还需要对它做一个标准化的处理，就是我们所用的向量，最终要得到一个单位的对吧，这是他们想的唯一的一个向量OK，那看一下肯定是报错了对吧。

00:55:00:11 - 00:55:32:28
未知
我们再看一下是哪里报错了。双击这里这里写错了，OK已经删掉了对吧，这个没有用了的okok那现在已经得到了这个，那么我的下一步要得到一个四线的一个向量对吧出现了一个向量叫做就我这个怎么怎么求了，这个是我们的。

00:55:33:02 - 00:56:09:04
未知
首先我们要求出我们世界空间下面的一个顶点，坐标对吧，所以还是叫做对吧，那是老规矩对吧，你要吐我然后呢？离不开啊，你要来的OK那这个视线方向怎么求呢？是这样的，我们可以拿到这个世界空间，下面摄像机的一个二一个位置对吧，这个是怎么来的呢？

00:56:09:04 - 00:56:57:22
未知
这个是我们的这个算力给把封装好的一个内置的变量，我们只要有一个头文件就可以用这个变量了，直接就可以获得这个数据的话就非常的方便减去这个之后呢？那么为了以后就得到一个从顶点指向我们相机的一个方向的一个向量对吧。OK那现在我们再输出一下呃，我们需要输出这个四的一个向量看一下有没有报错OK，还是报错了，靠我cameraok那就OK了对吧。

00:56:58:08 - 00:57:55:02
未知
那接下来呢？我们就在这个片源设置中把这些数据给承接过来一点毛毛雨，我对吧，那我们承接拿过来之后呢？记得还要浓墨来试一下，因为它三化的过程呢，会导致这个向量，它的长度会发生一些变化，所以我们就要我们需要再次地进行一个标准化的一个处理，对不对吧OK了我OK那我们就算一个N一的一个操作就造成了某我未来的土地直接输出这个数看一下OK就有了把N都统一，具体是什么意思呢？

00:57:55:02 - 00:58:25:02
未知
就是这个就是我们两个向量断层的一个结果，我们可以看到对吧啊，那么两个向量进行一个断层的话，它越重合，那就接近一的把它等于180度，就等于不疑地把啊。由此可以知道我们两个向量的点结果呢？它的范围在-1到1之间对吧。那首先我们要对它做一个限制对吧，我们把不一的直接限制成林现在呢？

00:58:25:02 - 00:58:57:00
未知
就它的方法就变成0到1之间了对吧OK那下面下一步，我们要干嘛，我们要对这个结果进行反向为的为1.0减去N一看一下，它最终结果怎么样OK这里就成了它的一个边效果了，对不对啊？这个非常的简单啊。因为我们前面已经使用的是一种优化的叠加模式的吧。

00:58:58:01 - 01:00:17:19
未知
我们在输出这个我们把这个当成阿尔法看待了，把它算法看待然后呢？衍射值等于等于什么呢？等于我们的人看了对吧来看，然后是OK然后再乘一下它的一个倍增系数。我们的可以接着在这个阿尔法通道里面存起来之后呢？我请大家记得要把它限制到零的一个范围啊上去啊，比如我们想调节它的一个一个对比度啊，就是这种衰减的一个对比度应该怎么做呢？

01:00:17:29 - 01:01:33:07
未知
这种其实也非常简单的吧。在这里，我用我的计算，然后它我对吧。那啊，然后呢？它是12，就不用我多说了，大家都应该懂了这些东西，然后对我看一下啊，这里弄错了，应该是在下面这个的下面这个来训练，我等于这里再对它做一个Power值的计算，再把看看值应该没有错。

01:01:33:07 - 01:02:04:24
未知
这里我没有生理的变量，那现在我们可以留意到，其实我们可以留意到一些非常奇怪的现象，就是我们直接可以透过这个物体看到里面的东西。这种有有些时候，我们有的这种效果很不好，对吧，我们先把这个深度又给开的看一下，那么改善的效果啊，是可以改善这种效果对吧。

01:02:04:24 - 01:02:46:10
未知
那就好那其实站到某些角度啊，发现还是有不好的地方对吧。我们有没有更好的办法呢？答案是有的，但是有的我们先把这一段代码给弄过来，大家先不用懂，为什么先把这个代码给弄过来了，看一下它的对比，它能完美的只能看到最前面的那部分的那部分的像素对吧，它实际上就相当于一个看不到内部的一个半透明的一个效果，它只看了最外面的乘客对吧。

01:02:46:23 - 01:03:12:28
未知
那这个是什么意思呢？为什么加了一个Pause啊，这个就是预先写了一遍。深度的意思就是我们用了一个很简单的C的。在第一个Pass里面，我们用了一个很简单的C的，然后我们把这个Delay给写进去了。我们把最前面的一些深度，就是我们把最靠的前面的一些三角形的这些片源，它们的深度值已经写上去了，但是呢？

01:03:12:28 - 01:03:37:07
未知
我们做了一个叫了，Master也操作，就是说我们只写深度，但是我们不写任何的颜色信息的话，我们就是把它的最前面的这个这个深度也填上了，那到了我们第二遍绘制的时候呢？这些片源呢？就通过这个深度测试呢？就默认的把你背后的这个像这些这些像素给剔除掉了，那这种操作呢？

01:03:37:08 - 01:04:03:25
未知
就是一个叫做预先写深度的一个操作吧。那在ACE里面，有对应的功能的这里，只给简单的给大家演示一下啊。那今天这个课程内容呢？就大概到这里了我我说的这个章节的内容，我说的其实很痛苦，因为越简单的东西越难做，有些时候我觉得太过于无趣了，有些时候我又觉得我太过啰嗦了，对吧。

01:04:04:05 - 02:31:32:26
未知
不知道该怎么说这节课呢？希望大家如果再从下一节课开始呢？我们就直接进入的快速的这种实战的操作环节，我可不跟大家啰嗦了，直接照着我们的效果直接干就行了。OK。

